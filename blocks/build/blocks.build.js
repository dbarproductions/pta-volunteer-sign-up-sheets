(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var l in s)e.o(s,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:s[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,s=window.wp.blockEditor,l=window.wp.components,o=window.wp.i18n,a=window.wp.serverSideRender;var n=e.n(a);const r=window.wp.element,i=window.ReactJSXRuntime;(0,t.registerBlockType)("pta-volunteer-sus/signup-sheet",{edit:({attributes:e,setAttributes:t})=>{const a=(0,s.useBlockProps)();return(0,i.jsxs)("div",{...a,children:[(0,i.jsx)(n(),{block:"pta-volunteer-sus/signup-sheet",attributes:e}),(0,i.jsx)(s.InspectorControls,{children:(0,i.jsxs)(l.PanelBody,{title:(0,o.__)("Sheet Settings","pta-volunteer-sign-up-sheets"),children:[(0,i.jsxs)("div",{className:"pta-volunteer-signup-guidance",children:[(0,i.jsx)("p",{children:(0,o.__)("This block displays all volunteer sign-up sheets by default.","pta-volunteer-sign-up-sheets")}),(0,i.jsx)("p",{children:(0,o.__)("To preview a specific sheet, enter its ID below. Remember to clear the ID to show all sheets again.","pta-volunteer-sign-up-sheets")})]}),(0,i.jsx)(l.TextControl,{label:(0,o.__)("Sheet ID","pta-volunteer-sign-up-sheets"),value:e.id,onChange:e=>t({id:e}),type:"number",min:1}),(0,i.jsx)(l.TextControl,{label:(0,o.__)("Date","pta-volunteer-sign-up-sheets"),value:e.date,onChange:e=>t({date:e})}),(0,i.jsx)(l.TextControl,{label:(0,o.__)("Group","pta-volunteer-sign-up-sheets"),value:e.group,onChange:e=>t({group:e})}),(0,i.jsx)(l.TextControl,{label:(0,o.__)("List Title","pta-volunteer-sign-up-sheets"),value:e.list_title,onChange:e=>t({list_title:e})}),(0,i.jsx)(l.SelectControl,{label:(0,o.__)("Show Headers?","pta-volunteer-sign-up-sheets"),value:e.show_headers,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}],onChange:e=>t({show_headers:e})}),(0,i.jsx)(l.SelectControl,{label:(0,o.__)("Show Time?","pta-volunteer-sign-up-sheets"),value:e.show_time,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}],onChange:e=>t({show_time:e})}),(0,i.jsx)(l.SelectControl,{label:(0,o.__)("Show Phone?","pta-volunteer-sign-up-sheets"),value:e.show_phone,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}],onChange:e=>t({show_phone:e})}),(0,i.jsx)(l.SelectControl,{label:(0,o.__)("Show Email?","pta-volunteer-sign-up-sheets"),value:e.show_email,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}],onChange:e=>t({show_email:e})}),(0,i.jsx)(l.SelectControl,{label:(0,o.__)("Order By","pta-volunteer-sign-up-sheets"),value:e.order_by,options:[{label:"First Date",value:"first_date"},{label:"Last Date",value:"last_date"},{label:"Title",value:"title"},{label:"ID",value:"id"}],onChange:e=>t({order_by:e})}),(0,i.jsx)(l.SelectControl,{label:(0,o.__)("Order","pta-volunteer-sign-up-sheets"),value:e.order,options:[{label:"Ascending",value:"ASC"},{label:"Descending",value:"DESC"}],onChange:e=>t({order:e})})]})})]})},save:()=>null}),(0,t.registerBlockType)("pta-volunteer-sus/user-signups",{attributes:{show_time:{type:"string",default:"yes"}},edit:({attributes:e,setAttributes:t})=>{const a=(0,s.useBlockProps)();return(0,i.jsxs)("div",{...a,children:[(0,i.jsx)(n(),{block:"pta-volunteer-sus/user-signups",attributes:e}),(0,i.jsx)(s.InspectorControls,{children:(0,i.jsxs)(l.PanelBody,{title:(0,o.__)("Display Settings","pta-volunteer-sign-up-sheets"),children:[(0,i.jsx)("p",{children:(0,o.__)("Configure which columns to display in the user signups list.","pta-volunteer-sign-up-sheets")}),(0,i.jsx)(l.SelectControl,{label:(0,o.__)("Show Time Columns?","pta-volunteer-sign-up-sheets"),value:e.show_time,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}],onChange:e=>t({show_time:e})})]})})]})},save:()=>null}),(0,t.registerBlockType)("pta-volunteer-sus/upcoming-events",{attributes:{title:{type:"string",default:(0,o.__)("Current Volunteer Opportunities","pta-volunteer-sign-up-sheets")},num_items:{type:"number",default:10},show_what:{type:"string",default:"both"},sort_by:{type:"string",default:"first_date"},order:{type:"string",default:"ASC"},list_class:{type:"string",default:""}},edit:({attributes:e,setAttributes:t})=>{const a=(0,s.useBlockProps)();return(0,i.jsxs)("div",{...a,children:[(0,i.jsx)(n(),{block:"pta-volunteer-sus/upcoming-events",attributes:e}),(0,i.jsx)(s.InspectorControls,{children:(0,i.jsxs)(l.PanelBody,{title:(0,o.__)("Widget Settings","pta-volunteer-sign-up-sheets"),children:[(0,i.jsx)(l.TextControl,{label:(0,o.__)("Title","pta-volunteer-sign-up-sheets"),value:e.title,onChange:e=>t({title:e})}),(0,i.jsx)(l.TextControl,{label:(0,o.__)("# of items to show (-1 for all)","pta-volunteer-sign-up-sheets"),type:"number",value:e.num_items,onChange:e=>t({num_items:parseInt(e)})}),(0,i.jsx)(l.SelectControl,{label:(0,o.__)("What to show?","pta-volunteer-sign-up-sheets"),value:e.show_what,options:[{label:(0,o.__)("Both","pta-volunteer-sign-up-sheets"),value:"both"},{label:(0,o.__)("Volunteer Events (with sign-ups)","pta-volunteer-sign-up-sheets"),value:"signups"},{label:(0,o.__)("No Sign-Up Events (display events only)","pta-volunteer-sign-up-sheets"),value:"events"}],onChange:e=>t({show_what:e})}),(0,i.jsx)(l.SelectControl,{label:(0,o.__)("Sort By","pta-volunteer-sign-up-sheets"),value:e.sort_by,options:[{label:(0,o.__)("First Date","pta-volunteer-sign-up-sheets"),value:"first_date"},{label:(0,o.__)("Last Date","pta-volunteer-sign-up-sheets"),value:"last_date"},{label:(0,o.__)("Title","pta-volunteer-sign-up-sheets"),value:"title"},{label:(0,o.__)("Sheet ID","pta-volunteer-sign-up-sheets"),value:"id"}],onChange:e=>t({sort_by:e})}),(0,i.jsx)(l.SelectControl,{label:(0,o.__)("Sort Order","pta-volunteer-sign-up-sheets"),value:e.order,options:[{label:(0,o.__)("Ascending","pta-volunteer-sign-up-sheets"),value:"ASC"},{label:(0,o.__)("Descending","pta-volunteer-sign-up-sheets"),value:"DESC"}],onChange:e=>t({order:e})}),(0,i.jsx)(l.TextControl,{label:(0,o.__)("CSS Class for ul list of signups","pta-volunteer-sign-up-sheets"),value:e.list_class,onChange:e=>t({list_class:e})})]})})]})},save:()=>null}),(0,t.registerBlockType)("pta-volunteer-sus/validation-form",{edit:({attributes:e,setAttributes:t})=>{const a=(0,s.useBlockProps)();return(0,i.jsxs)("div",{...a,children:[(0,i.jsx)(n(),{block:"pta-volunteer-sus/validation-form",attributes:e}),(0,i.jsx)(s.InspectorControls,{children:(0,i.jsxs)(l.PanelBody,{title:(0,o.__)("Display Settings","pta-volunteer-sign-up-sheets"),children:[(0,i.jsx)("p",{children:(0,o.__)("If you use this on a page with the main sign up sheets block, you may want to hide the output of this block when validated so there a no messages saying you are already validated on every page.","pta-volunteer-sign-up-sheets")}),(0,i.jsx)(l.SelectControl,{label:(0,o.__)("Hide When Validated?","pta-volunteer-sign-up-sheets"),value:e.hide_when_validated,options:[{label:"Yes",value:"yes"},{label:"No",value:"no"}],onChange:e=>t({hide_when_validated:e})})]})})]})},save:()=>null}),(0,t.registerBlockType)("pta-volunteer-sus-block/block-pta-volunteer-sus-block",{title:(0,o.__)("Sign Up Sheets (Legacy)","pta-volunteer-sign-up-sheets"),icon:"welcome-write-blog",category:"widgets",attributes:{codeType:{default:"signups"},id:{default:""},date:{default:""},group:{default:""},list_title:{default:""},show_headers:{default:"yes"},show_time:{default:"yes"},show_phone:{default:"no"},show_email:{default:"no"},show_date_start:{default:"yes"},show_date_end:{default:"yes"},order_by:{default:"first_date"},order:{default:"ASC"}},deprecated:[{attributes:{codeType:{default:"signups"},id:{default:""},date:{default:""},group:{default:""},list_title:{default:""},show_headers:{default:"yes"},show_time:{default:"yes"},show_phone:{default:"no"},show_email:{default:"no"},show_date_start:{default:"yes"},show_date_end:{default:"yes"},order_by:{default:"first_date"},order:{default:"ASC"}},save:({attributes:e})=>(0,r.createElement)("div",{className:"wp-block-pta-volunteer-sus-block-block-pta-volunteer-sus-block"},`[pta_sign_up_sheet id="${e.id}" date="${e.date}" group="${e.group}" list_title="${e.list_title}" show_headers="${e.show_headers}" show_time="${e.show_time}" show_phone="${e.show_phone}" show_email="${e.show_email}" show_date_start="${e.show_date_start}" show_date_end="${e.show_date_end}" order_by="${e.order_by}" order="${e.order}" ]`)}],edit:({attributes:e,clientId:a})=>{const n=(0,s.useBlockProps)();return(0,i.jsx)("div",{...n,children:(0,i.jsxs)("div",{className:"components-notice is-warning",children:[(0,i.jsx)("p",{children:(0,o.__)("This block has been deprecated. Please convert it to the new Sign Up Sheets block to maintain functionality.","pta-volunteer-sign-up-sheets")}),(0,i.jsxs)("pre",{children:["Current block attributes: ",JSON.stringify(e,null,2)]}),(0,i.jsx)(l.Button,{isPrimary:!0,onClick:()=>{console.log("Current attributes:",e);const s={id:e.id||"",date:e.date||"",group:e.group||"",list_title:e.list_title||"",show_headers:e.show_headers||"yes",show_time:e.show_time||"yes",show_phone:e.show_phone||"no",show_email:e.show_email||"no",order_by:e.order_by||"first_date",order:e.order||"ASC"};console.log("New attributes:",s);try{const e=(0,t.createBlock)("pta-volunteer-sus/signup-sheet",s);wp.data.dispatch("core/block-editor").replaceBlock(a,e)}catch(e){console.error("Block conversion error:",e)}},children:(0,o.__)("Convert to New Block","pta-volunteer-sign-up-sheets")})]})})},save:()=>null})})();